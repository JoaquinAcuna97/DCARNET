{% extends "base.html" %}
{% block content %}
{% load static %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
<div class="form-index" url-endpoint="">
  <main role="main">
    <div class="container">
      <div class="">
        <div class="container mt-5 row">
          <div class="text-center p-4">
            <h2 class="display-4"> Detalles del control médico </h2>
          </div>
          <hr class="my-4">
          <br>
          <div class="col-8">
<canvas id="myChart" width="400" height="400"></canvas>
<script>
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
            datasets: [{
                label: 'Grafica de peso por mes',
                data: [2, 2, 3, 5, 5, 13],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
</script>
          </div>
<div class="col-4" >
    <dl>
            <h3 class="display-5">Fecha: {{ control_medico.fecha_de_creacion}}</h3>
            <br>
            <br>
            <dt class="titulomagui">Edad</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.edad }} años
            </dd>
            <dt class="titulomagui">Tallas</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.talla }} cms.
            </dd>
            <dt class="titulomagui">Peso</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.peso }} kgs.
            </dd>
            <dt class="titulomagui">Pd</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.pd }} cms.
            </dd>
            <dt class="titulomagui">Alimentación</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.alimentacion }}
            </dd>
            <dt class="titulomagui">Hierro</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.hierro }}
            </dd>
            <dt class="titulomagui">Vitamina D</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.vit_D }}
            </dd>
            <dt class="titulomagui">Observaciones </dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.observaciones }}
            </dd>
            <dt class="titulomagui">Próximo control</dt>
            <dd>
              <p class="textmagui"></p> {{ control_medico.proximo_control }}
            </dd>
          </dl>
</div>
        </div>

      

    <a href="{% url 'carnets:control_list' pk=nino.pk %}">
      <button type="button" class="btn btn-default btn-lg">Ver lista de controles</button>
    </a>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<script>
  {% block jquery %}

      var endpoint= '/carnets/api-data/'
      $.ajax({
        method:'GET',
        url:endpoint,
        success: function(data){
          console.log(data)
        },
        error: function(data){
        console.log('error')
          console.log(data)
        }
})
  {% endblock %}
  </script>
{% endblock %}
